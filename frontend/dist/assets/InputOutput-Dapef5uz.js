import{_ as mt,u as ft,y as bt,r as b,z as G,o as yt,j as V,k as _t,c as n,b as e,d as r,F as _,l as h,x as R,t as i,n as U,A as ht,B as gt,q as P,C as kt,p as Ct,e as p,v as f,D as S,s as wt,f as l}from"./index-BCRoANWK.js";const xt={class:"io-grid"},Ut={class:"io-column"},It={class:"io-column-content"},Pt={class:"protocol-list"},$t={class:"protocol-info"},Tt={class:"protocol-name"},Ot={class:"protocol-desc"},Vt={class:"io-column universes-column"},St={class:"io-column-header"},jt={class:"io-column-content"},Ft={class:"universe-header"},Nt={class:"universe-info"},At={class:"universe-label"},Mt={class:"universe-id"},Dt={class:"universe-actions"},Et=["onClick"],Lt=["onClick"],Jt={class:"io-section-row"},Bt={class:"dropdown-section"},Ht=["value","onChange"],qt=["value"],zt={key:0,class:"io-config"},Wt=["onClick"],Gt=["onClick"],Rt={class:"visual-row"},Xt={class:"universe-visual"},Kt={class:"universe-box"},Qt={class:"connection-lines-container"},Yt={class:"outputs-section"},Zt={class:"outputs-header"},te={class:"io-section-label"},ee=["onClick"],oe={class:"outputs-list"},se={class:"output-info"},le=["value","onChange"],ne=["value"],ae={class:"output-controls"},ie=["onClick"],de=["onClick"],ue=["onClick"],re={key:0,class:"passthrough-section"},pe={class:"passthrough-controls"},ce=["value","onChange"],ve=["value","onChange"],me={key:1,class:"input-monitor-section"},fe=["onClick"],be={class:"input-monitor-title"},ye={class:"input-monitor-stats"},_e={class:"stat"},he={class:"stat-value"},ge={key:0,class:"stat"},ke={class:"stat-value"},Ce={key:0,class:"input-monitor-content"},we={class:"input-dmx-grid"},xe={class:"cell-channel"},Ue={class:"cell-value"},Ie={key:0,class:"no-universes"},Pe={class:"io-column"},$e={class:"io-column-content"},Te={class:"protocol-list"},Oe={class:"protocol-info"},Ve={class:"protocol-name"},Se={class:"protocol-desc"},je={key:0,class:"modal-overlay"},Fe={class:"modal"},Ne={class:"modal-header"},Ae={class:"modal-title"},Me={key:0,class:"config-form"},De={class:"form-group"},Ee={class:"form-group"},Le={class:"form-group"},Je={class:"form-group"},Be={class:"form-group"},He={class:"form-group"},qe={style:{display:"flex","align-items":"center",gap:"8px"}},ze={key:1,class:"config-form"},We={class:"form-group"},Ge={class:"form-group"},Re={style:{display:"flex","align-items":"center",gap:"8px"}},Xe={class:"form-group"},Ke={class:"form-group"},Qe={class:"form-group"},Ye={class:"form-group"},Ze={style:{display:"flex","align-items":"center",gap:"8px"}},to={class:"modal-footer"},eo={key:1,class:"modal-overlay"},oo={class:"modal"},so={class:"modal-header"},lo={class:"modal-title"},no={key:0,class:"config-form"},ao={class:"form-group"},io={class:"form-group"},uo={class:"form-group"},ro={key:1,class:"config-form"},po={class:"form-group"},co={class:"form-group"},vo={style:{display:"flex","align-items":"center",gap:"8px"}},mo={key:0,class:"form-group"},fo={key:2,class:"config-form"},bo={class:"modal-footer"},yo={key:2,class:"modal-overlay"},_o={class:"modal"},ho={class:"modal-header"},go={class:"modal-title"},ko={class:"form-group"},Co={class:"form-group"},wo=["value"],xo={key:0,class:"form-group"},Uo={class:"form-group"},Io={style:{display:"flex","align-items":"center",gap:"8px"}},Po={class:"modal-footer"},$o=["disabled"],To={key:3,class:"modal-overlay"},Oo={class:"modal"},Vo={class:"modal-header"},So={style:{color:"var(--text-secondary)"}},jo={class:"modal-footer"},Fo={key:4,class:"modal-overlay"},No={class:"modal",style:{"max-width":"600px"}},Ao={class:"modal-header"},Mo={class:"modal-title"},Do={class:"help-content"},Eo={style:{color:"var(--text-secondary)","margin-bottom":"16px"}},Lo={class:"help-option-header"},Jo={class:"help-option-method"},Bo={class:"help-option-desc"},Ho={class:"help-pros-cons"},qo={class:"help-pros"},zo={class:"help-cons"},Wo={key:0,class:"help-recommendation"},Go={class:"modal-footer"},Ro={__name:"InputOutput",setup(Xo){const X=ft();bt();const A=b({universes:[]}),M=b([]),j=b([]),g=b(null),k=b(null),u=b({}),c=b({}),T=G({}),D=G({}),F=b(!1),$=b(null),E=b(!1),C=b(null),w=b(null),v=b({label:"",device_type:"artnet",config:{ip:"255.255.255.255"},enabled:!1});async function m(s,t={}){return t.headers={...t.headers,...X.getAuthHeaders()},fetch(s,t)}async function y(){try{const t=await(await m(`/api/io?_t=${Date.now()}`)).json();A.value=t,M.value=t.input_protocols||[],j.value=t.output_protocols||[]}catch(s){console.error("Failed to load I/O config:",s)}}async function K(s,t){try{await m(`/api/io/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_type:t,input_enabled:t!=="none"})}),await y()}catch(d){console.error("Failed to update input:",d)}}async function Q(s,t){try{await m(`/api/io/${s}/input/${t?"enable":"disable"}`,{method:"POST"}),await y()}catch(d){console.error("Failed to toggle input:",d)}}async function B(s,t,d="htp"){try{await m(`/api/io/${s}/passthrough`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({passthrough_mode:t,merge_mode:d})}),await y()}catch(I){console.error("Failed to update passthrough:",I)}}async function Y(){try{const s=await m("/api/io/help/loopback");$.value=await s.json()}catch(s){console.error("Failed to load loopback help:",s)}}function Z(s){g.value=s,u.value={bind_ip:"0.0.0.0",...s.input.config}}function tt(s,t){k.value={universe:s,output:t},c.value={...t.config}}async function et(){try{await m(`/api/io/${g.value.id}/input`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({input_type:g.value.input.input_type,input_config:u.value,input_enabled:g.value.input.enabled})}),g.value=null,await y()}catch(s){console.error("Failed to save input config:",s)}}async function ot(){try{const{universe:s,output:t}=k.value;t.id?await m(`/api/io/${s.id}/outputs/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_type:t.device_type,config_json:c.value,enabled:t.enabled})}):await m(`/api/io/${s.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({config_json:c.value})}),k.value=null,await y()}catch(s){console.error("Failed to save output config:",s)}}async function st(s){try{await m(`/api/io/${s.id}/outputs`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_type:"artnet",config_json:{ip:"255.255.255.255"},enabled:!0})}),await y()}catch(t){console.error("Failed to add output:",t)}}async function lt(s,t,d){try{t.id?await m(`/api/io/${s}/outputs/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_type:d,config_json:t.config||{},enabled:t.enabled})}):await m(`/api/io/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_type:d})}),await y()}catch(I){console.error("Failed to update output type:",I)}}async function nt(s,t){try{const d=!t.enabled;t.id?await m(`/api/io/${s}/outputs/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({device_type:t.device_type,config_json:t.config||{},enabled:d})}):await m(`/api/io/${s}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({enabled:d})}),await y()}catch(d){console.error("Failed to toggle output:",d)}}async function at(s,t){if(t.id)try{await m(`/api/io/${s}/outputs/${t.id}`,{method:"DELETE"}),await y()}catch(d){console.error("Failed to delete output:",d)}}function it(s){C.value=s,v.value={label:s.label,device_type:s.output.device_type,config:{...s.output.config},enabled:s.output.enabled}}function L(){E.value=!1,C.value=null,v.value={label:"",device_type:"artnet",config:{ip:"255.255.255.255"},enabled:!1}}async function dt(){try{const s=C.value?`/api/universes/${C.value.id}`:"/api/universes",t=C.value?"PUT":"POST";(await m(s,{method:t,headers:{"Content-Type":"application/json"},body:JSON.stringify({label:v.value.label,device_type:v.value.device_type,config_json:v.value.config,enabled:v.value.enabled})})).ok&&(L(),await y())}catch(s){console.error("Failed to save universe:",s)}}function ut(s){w.value=s}async function rt(){try{await m(`/api/universes/${w.value.id}`,{method:"DELETE"}),w.value=null,await y()}catch(s){console.error("Failed to delete universe:",s)}}const O={};function H(s){D[s.universe_id]=[...s.values]}function pt(s){T[s]=!T[s],T[s]?(V.requestInputValues(s),O[s]=setInterval(()=>{V.requestInputValues(s)},200)):O[s]&&(clearInterval(O[s]),delete O[s])}function N(s,t){const d=D[s];return d&&d[t-1]||0}function ct(s){const t=D[s];return t?t.filter(d=>d>0).length:0}function vt(s,t){const d=N(s,t);return d>0?{background:`rgba(74, 222, 128, ${.3+d/255*.7})`}:{}}return yt(()=>{y(),Y(),V.on("input_values",H),V.requestAllInputValues()}),_t(()=>{V.off("input_values",H),Object.values(O).forEach(clearInterval)}),(s,t)=>{var I,q,z,W;const d=kt("router-link");return l(),n("div",null,[t[77]||(t[77]=e("div",{class:"card-header",style:{"margin-bottom":"16px"}},[e("h2",{class:"card-title"},"Input / Output Configuration")],-1)),e("div",xt,[e("div",Ut,[t[33]||(t[33]=e("div",{class:"io-column-header"},[e("h3",null,"Inputs")],-1)),e("div",It,[e("div",Pt,[(l(!0),n(_,null,h(M.value,o=>(l(),n("div",{key:o.id,class:"protocol-item"},[t[32]||(t[32]=R('<div class="protocol-icon" data-v-ae964183><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ae964183><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" data-v-ae964183></path><path d="M3 3v5h5" data-v-ae964183></path><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16" data-v-ae964183></path><path d="M16 16h5v5" data-v-ae964183></path></svg></div>',1)),e("div",$t,[e("div",Tt,i(o.name),1),e("div",Ot,i(o.description),1)])]))),128))])])]),e("div",Vt,[e("div",St,[t[34]||(t[34]=e("h3",null,"Universes",-1)),e("button",{class:"btn btn-small btn-primary",onClick:t[0]||(t[0]=o=>E.value=!0)},"+ Add")]),e("div",jt,[(l(!0),n(_,null,h(A.value.universes,o=>(l(),n("div",{key:o.id,class:"universe-card"},[e("div",Ft,[e("div",Nt,[e("span",At,i(o.label),1),e("span",Mt,"ID: "+i(o.id),1)]),e("div",Dt,[e("button",{class:"btn btn-small btn-secondary",onClick:a=>it(o)},"Edit",8,Et),e("button",{class:"btn btn-small btn-danger",onClick:a=>ut(o)},"Delete",8,Lt)])]),e("div",Jt,[e("div",Bt,[t[35]||(t[35]=e("span",{class:"io-section-label"},"Input",-1)),e("select",{class:"form-select io-select",value:o.input.input_type,onChange:a=>K(o.id,a.target.value)},[(l(!0),n(_,null,h(M.value,a=>(l(),n("option",{key:a.id,value:a.id},i(a.name),9,qt))),128))],40,Ht),o.input.input_type!=="none"?(l(),n("div",zt,[e("button",{class:U(["btn btn-small",o.input.enabled?"btn-success":"btn-secondary"]),onClick:a=>Q(o.id,!o.input.enabled)},i(o.input.enabled?"On":"Off"),11,Wt),e("button",{class:"btn btn-small btn-secondary",onClick:a=>Z(o)}," Config ",8,Gt),o.input.status?(l(),n("span",{key:0,class:U(["status-indicator",o.input.status.running?"active":""])},null,2)):r("",!0)])):r("",!0)])]),e("div",Rt,[e("div",Xt,[e("div",{class:U(["connection-line input-line",{active:o.input.enabled&&o.input.input_type!=="none"}])},null,2),e("div",Kt,[e("span",null,"U"+i(o.id),1)]),e("div",Qt,[(l(!0),n(_,null,h(o.outputs,(a,J)=>(l(),n("div",{key:a.id||J,class:U(["connection-line output-line",{active:a.enabled}])},null,2))),128))])])]),e("div",Yt,[e("div",Zt,[e("span",te,"Outputs ("+i(o.outputs.length)+")",1),e("button",{class:"btn btn-small btn-primary",onClick:a=>st(o)},"+ Add",8,ee)]),e("div",oe,[(l(!0),n(_,null,h(o.outputs,(a,J)=>(l(),n("div",{key:a.id||J,class:"output-item"},[e("div",se,[e("select",{class:"form-select io-select output-type-select",value:a.device_type,onChange:x=>lt(o.id,a,x.target.value)},[(l(!0),n(_,null,h(j.value,x=>(l(),n("option",{key:x.id,value:x.id},i(x.name),9,ne))),128))],40,le),a.status?(l(),n("span",{key:0,class:U(["status-indicator",a.status.running?"active":""])},null,2)):r("",!0)]),e("div",ae,[e("button",{class:U(["btn btn-small",a.enabled?"btn-success":"btn-secondary"]),onClick:x=>nt(o.id,a)},i(a.enabled?"On":"Off"),11,ie),e("button",{class:"btn btn-small btn-secondary",onClick:x=>tt(o,a)}," Config ",8,de),o.outputs.length>1||a.id?(l(),n("button",{key:0,class:"btn btn-small btn-danger",onClick:x=>at(o.id,a)}," X ",8,ue)):r("",!0)])]))),128))])]),o.input.input_type!=="none"?(l(),n("div",re,[e("div",pe,[t[38]||(t[38]=e("label",{class:"passthrough-label"},"Passthrough",-1)),e("select",{class:"form-select passthrough-mode-select",value:o.passthrough.passthrough_mode||"off",onChange:a=>B(o.id,a.target.value,o.passthrough.merge_mode)},[...t[36]||(t[36]=[e("option",{value:"off"},"Off",-1),e("option",{value:"view_only"},"View Only (faders only)",-1),e("option",{value:"faders_output"},"Faders + Output",-1)])],40,ce),o.passthrough.passthrough_mode&&o.passthrough.passthrough_mode!=="off"?(l(),n("select",{key:0,class:"form-select merge-mode-select",value:o.passthrough.merge_mode||"htp",onChange:a=>B(o.id,o.passthrough.passthrough_mode,a.target.value)},[...t[37]||(t[37]=[e("option",{value:"htp"},"HTP",-1),e("option",{value:"ltp"},"LTP",-1)])],40,ve)):r("",!0)]),o.passthrough.passthrough_mode&&o.passthrough.passthrough_mode!=="off"?(l(),ht(d,{key:0,to:"/mapping",class:"btn btn-small btn-secondary mapping-link"},{default:gt(()=>[...t[39]||(t[39]=[P(" Channel Mapping ",-1)])]),_:1})):r("",!0),e("button",{class:"btn btn-small btn-secondary help-btn",onClick:t[1]||(t[1]=a=>F.value=!0),title:"Loopback prevention help"}," ? ")])):r("",!0),o.input.input_type!=="none"&&o.input.enabled?(l(),n("div",me,[e("div",{class:"input-monitor-header",onClick:a=>pt(o.id)},[e("div",be,[(l(),n("svg",{class:U(["expand-icon",{expanded:T[o.id]}]),xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[...t[40]||(t[40]=[e("polyline",{points:"9 18 15 12 9 6"},null,-1)])],2)),t[41]||(t[41]=e("span",null,"Input Monitor",-1))]),e("div",ye,[e("span",_e,[e("span",he,i(ct(o.id)),1),t[42]||(t[42]=e("span",{class:"stat-label"},"active",-1))]),o.input.status?(l(),n("span",ge,[e("span",ke,i(o.input.status.packets_received||0),1),t[43]||(t[43]=e("span",{class:"stat-label"},"packets",-1))])):r("",!0)])],8,fe),T[o.id]?(l(),n("div",Ce,[e("div",we,[(l(),n(_,null,h(512,a=>e("div",{key:a,class:U(["input-dmx-cell",{active:N(o.id,a)>0}]),style:Ct(vt(o.id,a))},[e("span",xe,i(a),1),e("span",Ue,i(N(o.id,a))+" | "+i(Math.round(N(o.id,a)/255*100))+"%",1)],6)),64))])])):r("",!0)])):r("",!0)]))),128)),A.value.universes.length===0?(l(),n("div",Ie," No universes configured. Add universes in the Patch page. ")):r("",!0)])]),e("div",Pe,[t[45]||(t[45]=e("div",{class:"io-column-header"},[e("h3",null,"Outputs")],-1)),e("div",$e,[e("div",Te,[(l(!0),n(_,null,h(j.value,o=>(l(),n("div",{key:o.id,class:"protocol-item"},[t[44]||(t[44]=R('<div class="protocol-icon" data-v-ae964183><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" data-v-ae964183><circle cx="12" cy="12" r="10" data-v-ae964183></circle><line x1="12" y1="8" x2="12" y2="12" data-v-ae964183></line><line x1="12" y1="16" x2="12.01" y2="16" data-v-ae964183></line></svg></div>',1)),e("div",Oe,[e("div",Ve,i(o.name),1),e("div",Se,i(o.description),1)])]))),128))])])])]),g.value?(l(),n("div",je,[e("div",Fe,[e("div",Ne,[e("h3",Ae,"Configure Input - "+i(g.value.label),1),e("button",{class:"modal-close",onClick:t[2]||(t[2]=o=>g.value=null)},"×")]),g.value.input.input_type==="artnet_input"?(l(),n("div",Me,[e("div",De,[t[46]||(t[46]=e("label",{class:"form-label"},"Listen IP (0.0.0.0 for all)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[3]||(t[3]=o=>u.value.bind_ip=o),placeholder:"0.0.0.0"},null,512),[[f,u.value.bind_ip]]),t[47]||(t[47]=e("p",{class:"form-help"},`This must be an IP address on THIS machine (e.g., 0.0.0.0 or your server's IP), not the remote sender's IP. To filter packets by sender, use "Source IP Filter" below.`,-1))]),e("div",Ee,[t[48]||(t[48]=e("label",{class:"form-label"},"Port",-1)),p(e("input",{type:"number",class:"form-input","onUpdate:modelValue":t[4]||(t[4]=o=>u.value.port=o),placeholder:"6454"},null,512),[[f,u.value.port,void 0,{number:!0}]])]),e("div",Le,[t[49]||(t[49]=e("label",{class:"form-label"},"Art-Net Universe (0-based)",-1)),p(e("input",{type:"number",class:"form-input","onUpdate:modelValue":t[5]||(t[5]=o=>u.value.artnet_universe=o),min:"0",placeholder:"0"},null,512),[[f,u.value.artnet_universe,void 0,{number:!0}]])]),e("div",Je,[t[50]||(t[50]=e("label",{class:"form-label"},"Source IP Filter (only accept from this IP, empty = all)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[6]||(t[6]=o=>u.value.source_ip=o),placeholder:""},null,512),[[f,u.value.source_ip]])]),e("div",Be,[t[51]||(t[51]=e("label",{class:"form-label"},"Ignore IP (reject packets from this IP)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[7]||(t[7]=o=>u.value.ignore_ip=o),placeholder:""},null,512),[[f,u.value.ignore_ip]])]),e("div",He,[e("label",qe,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=o=>u.value.ignore_self=o)},null,512),[[S,u.value.ignore_self]]),t[52]||(t[52]=P(" Ignore Self (auto-filter packets from this machine) ",-1))])])])):r("",!0),g.value.input.input_type==="sacn_input"?(l(),n("div",ze,[e("div",We,[t[53]||(t[53]=e("label",{class:"form-label"},"sACN Universe",-1)),p(e("input",{type:"number",class:"form-input","onUpdate:modelValue":t[9]||(t[9]=o=>u.value.sacn_universe=o),min:"1",placeholder:"1"},null,512),[[f,u.value.sacn_universe,void 0,{number:!0}]])]),e("div",Ge,[e("label",Re,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[10]||(t[10]=o=>u.value.multicast=o)},null,512),[[S,u.value.multicast]]),t[54]||(t[54]=P(" Use Multicast ",-1))])]),e("div",Xe,[t[55]||(t[55]=e("label",{class:"form-label"},"Bind IP (0.0.0.0 for all interfaces)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[11]||(t[11]=o=>u.value.bind_ip=o),placeholder:"0.0.0.0"},null,512),[[f,u.value.bind_ip]]),t[56]||(t[56]=e("p",{class:"form-help"},`This must be an IP address on THIS machine (e.g., 0.0.0.0 or your server's IP), not the remote sender's IP. To filter packets by sender, use "Source IP Filter" below.`,-1))]),e("div",Ke,[t[57]||(t[57]=e("label",{class:"form-label"},"Source IP Filter (only accept from this IP, empty = all)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[12]||(t[12]=o=>u.value.source_ip=o),placeholder:""},null,512),[[f,u.value.source_ip]])]),e("div",Qe,[t[58]||(t[58]=e("label",{class:"form-label"},"Ignore IP (reject packets from this IP)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[13]||(t[13]=o=>u.value.ignore_ip=o),placeholder:""},null,512),[[f,u.value.ignore_ip]])]),e("div",Ye,[e("label",Ze,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[14]||(t[14]=o=>u.value.ignore_self=o)},null,512),[[S,u.value.ignore_self]]),t[59]||(t[59]=P(" Ignore Self (auto-filter packets from this machine) ",-1))])])])):r("",!0),e("div",to,[e("button",{class:"btn btn-secondary",onClick:t[15]||(t[15]=o=>g.value=null)},"Cancel"),e("button",{class:"btn btn-primary",onClick:et},"Save")])])])):r("",!0),k.value?(l(),n("div",eo,[e("div",oo,[e("div",so,[e("h3",lo,"Configure Output - "+i(k.value.universe.label),1),e("button",{class:"modal-close",onClick:t[16]||(t[16]=o=>k.value=null)},"×")]),k.value.output.device_type==="artnet"?(l(),n("div",no,[e("div",ao,[t[60]||(t[60]=e("label",{class:"form-label"},"Target IP (255.255.255.255 for broadcast)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[17]||(t[17]=o=>c.value.ip=o),placeholder:"255.255.255.255"},null,512),[[f,c.value.ip]])]),e("div",io,[t[61]||(t[61]=e("label",{class:"form-label"},"Port",-1)),p(e("input",{type:"number",class:"form-input","onUpdate:modelValue":t[18]||(t[18]=o=>c.value.port=o),placeholder:"6454"},null,512),[[f,c.value.port,void 0,{number:!0}]])]),e("div",uo,[t[62]||(t[62]=e("label",{class:"form-label"},"Art-Net Universe (0-based)",-1)),p(e("input",{type:"number",class:"form-input","onUpdate:modelValue":t[19]||(t[19]=o=>c.value.universe=o),min:"0",placeholder:"0"},null,512),[[f,c.value.universe,void 0,{number:!0}]])])])):r("",!0),k.value.output.device_type==="sacn"?(l(),n("div",ro,[e("div",po,[t[63]||(t[63]=e("label",{class:"form-label"},"sACN Universe",-1)),p(e("input",{type:"number",class:"form-input","onUpdate:modelValue":t[20]||(t[20]=o=>c.value.universe=o),min:"1",placeholder:"1"},null,512),[[f,c.value.universe,void 0,{number:!0}]])]),e("div",co,[e("label",vo,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[21]||(t[21]=o=>c.value.multicast=o)},null,512),[[S,c.value.multicast]]),t[64]||(t[64]=P(" Use Multicast ",-1))])]),c.value.multicast?r("",!0):(l(),n("div",mo,[t[65]||(t[65]=e("label",{class:"form-label"},"Unicast IP",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[22]||(t[22]=o=>c.value.ip=o),placeholder:"10.0.0.1"},null,512),[[f,c.value.ip]])]))])):r("",!0),k.value.output.device_type==="mock"||k.value.output.device_type==="dummy"?(l(),n("div",fo,[...t[66]||(t[66]=[e("p",{style:{color:"var(--text-secondary)"}},"No configuration needed for dummy output.",-1)])])):r("",!0),e("div",bo,[e("button",{class:"btn btn-secondary",onClick:t[23]||(t[23]=o=>k.value=null)},"Cancel"),e("button",{class:"btn btn-primary",onClick:ot},"Save")])])])):r("",!0),E.value||C.value?(l(),n("div",yo,[e("div",_o,[e("div",ho,[e("h3",go,i(C.value?"Edit Universe":"Add Universe"),1),e("button",{class:"modal-close",onClick:L},"×")]),e("div",ko,[t[67]||(t[67]=e("label",{class:"form-label"},"Label",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[24]||(t[24]=o=>v.value.label=o),placeholder:"e.g., Universe 1"},null,512),[[f,v.value.label]])]),e("div",Co,[t[68]||(t[68]=e("label",{class:"form-label"},"Output Device Type",-1)),p(e("select",{class:"form-select","onUpdate:modelValue":t[25]||(t[25]=o=>v.value.device_type=o)},[(l(!0),n(_,null,h(j.value,o=>(l(),n("option",{key:o.id,value:o.id},i(o.name),9,wo))),128))],512),[[wt,v.value.device_type]])]),v.value.device_type==="artnet"?(l(),n("div",xo,[t[69]||(t[69]=e("label",{class:"form-label"},"Art-Net IP (broadcast)",-1)),p(e("input",{type:"text",class:"form-input","onUpdate:modelValue":t[26]||(t[26]=o=>v.value.config.ip=o),placeholder:"255.255.255.255"},null,512),[[f,v.value.config.ip]])])):r("",!0),e("div",Uo,[e("label",Io,[p(e("input",{type:"checkbox","onUpdate:modelValue":t[27]||(t[27]=o=>v.value.enabled=o)},null,512),[[S,v.value.enabled]]),t[70]||(t[70]=P(" Enabled ",-1))])]),e("div",Po,[e("button",{class:"btn btn-secondary",onClick:L},"Cancel"),e("button",{class:"btn btn-primary",onClick:dt,disabled:!v.value.label},i(C.value?"Update":"Add"),9,$o)])])])):r("",!0),w.value?(l(),n("div",To,[e("div",Oo,[e("div",Vo,[t[71]||(t[71]=e("h3",{class:"modal-title"},"Delete Universe",-1)),e("button",{class:"modal-close",onClick:t[28]||(t[28]=o=>w.value=null)},"×")]),t[72]||(t[72]=e("p",null,"Are you sure you want to delete this universe?",-1)),e("p",So,i(w.value.label)+" (ID: "+i(w.value.id)+")",1),t[73]||(t[73]=e("p",{style:{color:"var(--error)","font-size":"12px"}},"Warning: This will also delete any patches assigned to this universe.",-1)),e("div",jo,[e("button",{class:"btn btn-secondary",onClick:t[29]||(t[29]=o=>w.value=null)},"Cancel"),e("button",{class:"btn btn-danger",onClick:rt},"Delete")])])])):r("",!0),F.value?(l(),n("div",Fo,[e("div",No,[e("div",Ao,[e("h3",Mo,i(((I=$.value)==null?void 0:I.title)||"Loopback Prevention"),1),e("button",{class:"modal-close",onClick:t[30]||(t[30]=o=>F.value=!1)},"×")]),e("div",Do,[e("p",Eo,i((q=$.value)==null?void 0:q.description),1),(l(!0),n(_,null,h((z=$.value)==null?void 0:z.options,o=>(l(),n("div",{key:o.method,class:"help-option"},[e("div",Lo,[e("span",Jo,i(o.method),1)]),e("p",Bo,i(o.description),1),e("div",Ho,[e("div",qo,[t[74]||(t[74]=e("span",{class:"label"},"Pros:",-1)),(l(!0),n(_,null,h(o.pros,a=>(l(),n("span",{key:a,class:"pro-item"},i(a),1))),128))]),e("div",zo,[t[75]||(t[75]=e("span",{class:"label"},"Cons:",-1)),(l(!0),n(_,null,h(o.cons,a=>(l(),n("span",{key:a,class:"con-item"},i(a),1))),128))])])]))),128)),(W=$.value)!=null&&W.recommendation?(l(),n("div",Wo,[t[76]||(t[76]=e("strong",null,"Recommendation:",-1)),P(" "+i($.value.recommendation),1)])):r("",!0)]),e("div",Go,[e("button",{class:"btn btn-primary",onClick:t[31]||(t[31]=o=>F.value=!1)},"Got it")])])])):r("",!0)])}}},Qo=mt(Ro,[["__scopeId","data-v-ae964183"]]);export{Qo as default};
